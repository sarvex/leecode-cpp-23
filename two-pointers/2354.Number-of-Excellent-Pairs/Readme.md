### 2354.Number-of-Excellent-Pairs

因为涉及的都是位操作，我们不妨枚举一下对于单个bit位上可能出现的情况：
```
a   b   a&b + a|b
1   1    1  + 1  = 2
1   0    0  + 1  = 1
0   1    0  + 1  = 1
0   0    0  + 0  = 0
```
我们不难发现，无论a是0还是1，与b配对后，能得到的bit 1的数目的增量，完全取决于b本身是0还是1. 我们将这个结论从单个bit扩展到整数时依然成立，就是无论整数A是如何，与整数B配对后，bit 1的总数目的增量，就是B含有的bit 1的数目。也就是说，任意两个整数A与B配对后，得到的bit 1的总数目，就是他们各自bit 1的数目相加。

所以我们只需要将去重后的nums里面的每个元素，转化为其bit 1的数目，得到一个新的数组arr。那么本题的本质就是问在arr里面有多少个pair，使得其元素和大于等于k即可。显然，将arr排序之后，用双指针即可线性地找到所有pairs。注意，因为允许调换顺序，pair的数目要乘以2加入结果.

此外，本题还允许pair里面的元素相同。所以我们还要单独考察arr里面的每一个元素，查看它自身组成一个pair的话是否符合题意。
